{
    "format_version": "1.10.0",
    "animation_controllers": {
        "controller.animation.wild_direwolf_pack_buff": {
            "initial_state": "default",
            "states": {
                "default": {
                    "transitions": [
                        {
                            "find_friends": "query.has_target && !query.is_tamed"
                        }
                    ]
                },
                "find_friends": {
                    "on_entry": [
                        "v.x = 0.0; for_each(t.direwolf, query.get_nearby_entities_except_self(16, 'rift:direwolf'), { v.x = v.x + !(t.direwolf -> query.is_tamed); }); for_each(t.direwolf_werewolf, query.get_nearby_entities_except_self(16, 'rift:direwolf_werewolf'), { v.x = v.x + !(t.direwolf_werewolf -> query.is_tamed); });",
                        "v.chance = Math.random_integer(0, 2);"
                    ],
                    "transitions": [
                        {
                            "use_buff": "v.chance == 0 && v.x >= 3"
                        },
                        {
                            "default": "!query.has_target"
                        }
                    ]
                },
                "use_buff": {
                    "on_entry": [
                        "@s rift:wild_direwolf_buffing"
                    ],
                    "transitions": [
                        {
                            "default": "!query.has_target"
                        }
                    ]
                }
            }
        },
        "controller.animation.wild_direwolf_remove_buffs": {
            "initial_state": "default",
            "states": {
                "default": {
                    "transitions": [
                        {
                            "buffs": "query.has_target && !query.is_tamed"
                        }
                    ]
                },
                "buffs": {
                    "on_exit": [
						"/effect @s speed 0",
						"/effect @s strength 0"
                    ],
                    "transitions": [
                        {
                            "default": "!query.has_target || query.is_tamed"
                        }
                    ]
                }
            }
        }
    }
}