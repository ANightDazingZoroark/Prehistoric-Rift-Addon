{
    "format_version": "1.10.0",
    "animation_controllers": {
        "controller.animation.wild_direwolf_pack_buff": {
            "initial_state": "default",
            "states": {
                "default": {
                    "transitions": [
                        {
                            "find_friends": "query.has_target && !query.is_tamed"
                        }
                    ]
                },
                "find_friends": {
                    "on_entry": [
                        "v.x = 0.0; for_each(t.direwolf, query.get_nearby_entities_except_self(16, 'rift:direwolf'), { v.x = v.x + !(t.direwolf -> query.is_tamed); }); for_each(t.direwolf_werewolf, query.get_nearby_entities_except_self(16, 'rift:direwolf_werewolf'), { v.x = v.x + !(t.direwolf_werewolf -> query.is_tamed); });",
                        "v.chance = Math.random_integer(0, 2);"
                    ],
                    "transitions": [
                        {
                            "use_buff": "v.chance == 0 && v.x >= 3"
                        },
                        {
                            "default": "!query.has_target"
                        }
                    ]
                },
                "use_buff": {
                    "on_entry": [
                        "@s rift:wild_direwolf_buffing"
                    ],
                    "transitions": [
                        {
                            "default": "!query.has_target"
                        }
                    ]
                }
            }
        },
        "controller.animation.wild_direwolf_remove_buffs": {
            "initial_state": "default",
            "states": {
                "default": {
                    "transitions": [
                        {
                            "buffs": "query.has_target && !query.is_tamed"
                        }
                    ]
                },
                "buffs": {
                    "on_exit": [
						"/effect @s speed 0",
						"/effect @s strength 0"
                    ],
                    "transitions": [
                        {
                            "default": "!query.has_target || query.is_tamed"
                        }
                    ]
                }
            }
        },
        "controller.animation.direwolf_transform": {
            "initial_state": "default",
            "states": {
                "default": {
                    "transitions": [
                        {
                            "transform_variant_sitting_zero": "query.is_illager_captain && !query.out_of_control && query.mark_variant == 1 && query.is_tamed && query.variant == 0 && (query.time_of_day >= 0.75) || (query.time_of_day < 0.25)"
                        },
                        {
                            "transform_variant_sitting_one": "query.is_illager_captain && !query.out_of_control && query.mark_variant == 1 && query.is_tamed && query.variant == 1 && (query.time_of_day >= 0.75) || (query.time_of_day < 0.25)"
                        },
                        {
                            "transform_variant_sitting_two": "query.is_illager_captain && !query.out_of_control && query.mark_variant == 1 && query.is_tamed && query.variant == 2 && (query.time_of_day >= 0.75) || (query.time_of_day < 0.25)"
                        },
                        {
                            "transform_variant_sitting_three": "query.is_illager_captain && !query.out_of_control && query.mark_variant == 1 && query.is_tamed && query.variant == 3 && (query.time_of_day >= 0.75) || (query.time_of_day < 0.25)"
                        },
                        {
                            "transform_variant_standing_zero": "query.is_illager_captain && !query.out_of_control && !query.has_rider && query.mark_variant == 0 && query.is_tamed && query.variant == 0 && (query.time_of_day >= 0.75) || (query.time_of_day < 0.25)"
                        },
                        {
                            "transform_variant_standing_one": "query.is_illager_captain && !query.out_of_control && !query.has_rider && query.mark_variant == 0 && query.is_tamed && query.variant == 1 && (query.time_of_day >= 0.75) || (query.time_of_day < 0.25)"
                        },
                        {
                            "transform_variant_standing_two": "query.is_illager_captain && !query.out_of_control && !query.has_rider && query.mark_variant == 0 && query.is_tamed && query.variant == 2 && (query.time_of_day >= 0.75) || (query.time_of_day < 0.25)"
                        },
                        {
                            "transform_variant_standing_three": "query.is_illager_captain && !query.out_of_control && !query.has_rider && query.mark_variant == 0 && query.is_tamed && query.variant == 3 && (query.time_of_day >= 0.75) || (query.time_of_day < 0.25)"
                        },
                        {
                            "transform_variant_standing_with_rider_zero": "query.is_illager_captain && !query.out_of_control && query.has_rider && query.mark_variant == 0 && query.is_tamed && query.variant == 0 && (query.time_of_day >= 0.75) || (query.time_of_day < 0.25)"
                        },
                        {
                            "transform_variant_standing_with_rider_one": "query.is_illager_captain && !query.out_of_control && query.has_rider && query.mark_variant == 0 && query.is_tamed && query.variant == 1 && (query.time_of_day >= 0.75) || (query.time_of_day < 0.25)"
                        },
                        {
                            "transform_variant_standing_with_rider_two": "query.is_illager_captain && !query.out_of_control && query.has_rider && query.mark_variant == 0 && query.is_tamed && query.variant == 2 && (query.time_of_day >= 0.75) || (query.time_of_day < 0.25)"
                        },
                        {
                            "transform_variant_standing_with_rider_three": "query.is_illager_captain && !query.out_of_control && query.has_rider && query.mark_variant == 0 && query.is_tamed && query.variant == 3 && (query.time_of_day >= 0.75) || (query.time_of_day < 0.25)"
                        }
                    ]
                },
                "transform_variant_sitting_zero": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_sitting_werewolf_variant_zero"
                    ]
                },
                "transform_variant_sitting_one": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_sitting_werewolf_variant_one"
                    ]
                },
                "transform_variant_sitting_two": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_sitting_werewolf_variant_two"
                    ]
                },
                "transform_variant_sitting_three": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_sitting_werewolf_variant_three"
                    ]
                },
                "transform_variant_standing_zero": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_standing_werewolf_variant_zero"
                    ]
                },
                "transform_variant_standing_one": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_standing_werewolf_variant_one"
                    ]
                },
                "transform_variant_standing_two": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_standing_werewolf_variant_two"
                    ]
                },
                "transform_variant_standing_three": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_standing_werewolf_variant_three"
                    ]
                },
                "transform_variant_standing_with_rider_zero": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_standing_werewolf_variant_zero_with_rider"
                    ]
                },
                "transform_variant_standing_with_rider_one": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_standing_werewolf_variant_one_with_rider"
                    ]
                },
                "transform_variant_standing_with_rider_two": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_standing_werewolf_variant_two_with_rider"
                    ]
                },
                "transform_variant_standing_with_rider_three": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_standing_werewolf_variant_three_with_rider"
                    ]
                }
            }
        },
        "controller.animation.direwolf_can_transform_again": {
            "initial_state": "default",
            "states": {
                "default": {
                    "transitions": [
                        {
                            "cannot_transform": "query.out_of_control"
                        }
                    ]
                },
                "cannot_transform": {
                    "transitions": [
                        {
                            "default": "(query.time_of_day < 0.75) && (query.time_of_day >= 0.25)"
                        }
                    ],
                    "on_exit": [
                        "@s rift:can_transform_again"
                    ]
                }
            }
        },
        "controller.animation.direwolf_rideable_after_transformation": {
            "initial_state": "default",
            "states": {
                "default": {
                    "transitions": [
                        {
                            "wasRideable": "query.actor_property('rift:was_ridden') == true"
                        }
                    ]
                },
                "wasRideable": {
                    "transitions": [
                        {
                            "default": "query.actor_property('rift:was_ridden') == false"
                        }
                    ],
                    "on_entry": [
                        "@s rift:make_rider_ride_again"
                    ]
                }
            }
        },
        "controller.animation.direwolf_forced_use_bite": {
			"initial_state": "default",
			"states": {
				"default": {
					"transitions": [
						{
							"biting": "query.is_sheared"
						}
					]
				},
				"biting": {
					"transitions": [
						{
							"default": "!query.is_sheared"
						}
					],
					"animations": [
						"animForcedAttack"
					]
				}
			}
		},
        "controller.animation.direwolf_werewolf_switch_between_melee_attacks": {
            "initial_state": "default",
            "states": {
                "default": {
                    "transitions": [
                        {
                            "chooseAttack": "query.has_target && query.out_of_control"
                        }
                    ]
                },
                "chooseAttack": {
                    "transitions": [
                        {
                            "bite": "v.attackMode = (math.floor(math.random(0,2))); return v.attackMode == 0;"
                        },
                        {
                            "claw": "v.attackMode == 1"
                        }
                    ]
                },
                "bite": {
                    "transitions": [
                        {
                            "biteLimbo": "query.is_delayed_attacking"
                        },
                        {
                            "default": "!query.has_target || !query.out_of_control"
                        }
                    ],
                    "on_entry": [
                        "@s rift:can_use_bite"
                    ]
                },
                "biteLimbo": {
                    "transitions": [
                        {
                            "bite": "v.attackMode = (math.floor(math.random(0,2))); return !query.is_delayed_attacking && v.attackMode == 0;"
                        },
                        {
                            "claw": "!query.is_delayed_attacking && v.attackMode == 1"
                        },
                        {
                            "default": "!query.has_target || !query.out_of_control"
                        }
                    ],
                    "on_exit": [
                        "@s rift:cannot_use_bite"
                    ]
                },
                "claw": {
                    "transitions": [
                        {
                            "clawLimbo": "query.is_delayed_attacking"
                        },
                        {
                            "default": "!query.has_target || !query.out_of_control"
                        }
                    ],
                    "on_entry": [
                        "@s rift:can_use_claw"
                    ]
                },
                "clawLimbo": {
                    "transitions": [
                        {
                            "bite": "v.attackMode = (math.floor(math.random(0,2))); return !query.is_delayed_attacking && v.attackMode == 0;"
                        },
                        {
                            "claw": "!query.is_delayed_attacking && v.attackMode == 1"
                        },
                        {
                            "default": "!query.has_target || !query.out_of_control"
                        }
                    ],
                    "on_exit": [
                        "@s rift:cannot_use_claw"
                    ]
                }
            }
        },
        "controller.animation.direwolf_werewolf_throw_boulder": {
            "initial_state": "default",
            "states": {
                "default": {
                    "transitions": [
                        {
                            "attacking": "query.has_target && query.is_ignited"
                        }
                    ]
                },
                "attacking": {
                    "animations": [
                        "animBoulderThrow"
                    ],
                    "transitions": [
                        {
                            "default": "!query.has_target || !query.is_ignited"
                        }
                    ]
                }
            }
        },
        "controller.animation.direwolf_werewolf_transform": {
            "initial_state": "default",
            "states": {
                "default": {
                    "transitions": [
                        {
                            "transform_variant_sitting_zero": "!query.is_stunned && query.skin_id == 1 && query.is_tamed && query.variant == 0 && !query.biome_has_any_tag('nether', 'the_end') && (query.time_of_day < 0.75) && (query.time_of_day >= 0.25)"
                        },
                        {
                            "transform_variant_sitting_one": "!query.is_stunned && query.skin_id == 1 && query.is_tamed && query.variant == 1 && !query.biome_has_any_tag('nether', 'the_end') && (query.time_of_day < 0.75) && (query.time_of_day >= 0.25)"
                        },
                        {
                            "transform_variant_sitting_two": "!query.is_stunned && query.skin_id == 1 && query.is_tamed && query.variant == 2 && !query.biome_has_any_tag('nether', 'the_end') && (query.time_of_day < 0.75) && (query.time_of_day >= 0.25)"
                        },
                        {
                            "transform_variant_sitting_three": "!query.is_stunned && query.skin_id == 1 && query.is_tamed && query.variant == 3 && !query.biome_has_any_tag('nether', 'the_end') && (query.time_of_day < 0.75) && (query.time_of_day >= 0.25)"
                        },
                        {
                            "transform_variant_standing_zero": "!query.is_stunned && !query.has_rider && query.skin_id == 0 && query.is_tamed && query.variant == 0 && !query.biome_has_any_tag('nether', 'the_end') && (query.time_of_day < 0.75) && (query.time_of_day >= 0.25)"
                        },
                        {
                            "transform_variant_standing_one": "!query.is_stunned && !query.has_rider && query.skin_id == 0 && query.is_tamed && query.variant == 1 && !query.biome_has_any_tag('nether', 'the_end') && (query.time_of_day < 0.75) && (query.time_of_day >= 0.25)"
                        },
                        {
                            "transform_variant_standing_two": "!query.is_stunned && !query.has_rider && query.skin_id == 0 && query.is_tamed && query.variant == 2 && !query.biome_has_any_tag('nether', 'the_end') && (query.time_of_day < 0.75) && (query.time_of_day >= 0.25)"
                        },
                        {
                            "transform_variant_standing_three": "!query.is_stunned && !query.has_rider && query.skin_id == 0 && query.is_tamed && query.variant == 3 && !query.biome_has_any_tag('nether', 'the_end') && (query.time_of_day < 0.75) && (query.time_of_day >= 0.25)"
                        },
                        {
                            "transform_variant_standing_with_rider_zero": "!query.is_stunned && query.has_rider && query.skin_id == 0 && query.is_tamed && query.variant == 0 && !query.biome_has_any_tag('nether', 'the_end') && (query.time_of_day < 0.75) && (query.time_of_day >= 0.25)"
                        },
                        {
                            "transform_variant_standing_with_rider_one": "!query.is_stunned && query.has_rider && query.skin_id == 0 && query.is_tamed && query.variant == 1 && !query.biome_has_any_tag('nether', 'the_end') && (query.time_of_day < 0.75) && (query.time_of_day >= 0.25)"
                        },
                        {
                            "transform_variant_standing_with_rider_two": "!query.is_stunned && query.has_rider && query.skin_id == 0 && query.is_tamed && query.variant == 2 && !query.biome_has_any_tag('nether', 'the_end') && (query.time_of_day < 0.75) && (query.time_of_day >= 0.25)"
                        },
                        {
                            "transform_variant_standing_with_rider_three": "!query.is_stunned && query.has_rider && query.skin_id == 0 && query.is_tamed && query.variant == 3 && !query.biome_has_any_tag('nether', 'the_end') && (query.time_of_day < 0.75) && (query.time_of_day >= 0.25)"
                        }
                    ]
                },
                "transform_variant_sitting_zero": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_sitting_normal_variant_zero"
                    ]
                },
                "transform_variant_sitting_one": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_sitting_normal_variant_one"
                    ]
                },
                "transform_variant_sitting_two": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_sitting_normal_variant_two"
                    ]
                },
                "transform_variant_sitting_three": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_sitting_normal_variant_three"
                    ]
                },
                "transform_variant_standing_zero": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_standing_normal_variant_zero"
                    ]
                },
                "transform_variant_standing_one": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_standing_normal_variant_one"
                    ]
                },
                "transform_variant_standing_two": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_standing_normal_variant_two"
                    ]
                },
                "transform_variant_standing_three": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_standing_normal_variant_three"
                    ]
                },
                "transform_variant_standing_with_rider_zero": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_standing_normal_variant_zero_with_rider"
                    ]
                },
                "transform_variant_standing_with_rider_one": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_standing_normal_variant_one_with_rider"
                    ]
                },
                "transform_variant_standing_with_rider_two": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_standing_normal_variant_two_with_rider"
                    ]
                },
                "transform_variant_standing_with_rider_three": {
                    "on_entry": [
                        "@s rift:direwolf_tamed_into_standing_normal_variant_three_with_rider"
                    ]
                }
            }
        },
        "controller.animation.direwolf_werewolf_remove_forced_transform": {
            "initial_state": "default",
            "states": {
                "default": {
                    "transitions": [
                        {
                            "forced": "query.is_stunned"
                        }
                    ]
                },
                "forced": {
                    "transitions": [
                        {
                            "default": "(query.time_of_day >= 0.75) || (query.time_of_day < 0.25)"
                        }
                    ],
                    "on_exit": [
                        "@s rift:remove_return_timer"
                    ]
                }
            }
        },
        "controller.animation.direwolf_werewolf_forced_use_bite": {
			"initial_state": "default",
			"states": {
				"default": {
					"transitions": [
						{
							"biting": "query.is_sheared"
						}
					]
				},
				"biting": {
					"transitions": [
						{
							"default": "!query.is_sheared"
						}
					],
					"animations": [
						"animForcedAttackBite"
					]
				}
			}
		},
        "controller.animation.direwolf_werewolf_forced_use_slash": {
			"initial_state": "default",
			"states": {
				"default": {
					"transitions": [
						{
							"chooseSlash": "query.is_powered"
						}
					]
				},
                "chooseSlash": {
					"transitions": [
						{
							"slashingOne": "v.scratchMode = (math.floor(math.random(0,2))); return v.scratchMode == 0;"
						},
						{
							"slashingTwo": "v.scratchMode == 1"
						}
					]
                },
				"slashingOne": {
					"transitions": [
						{
							"default": "!query.is_powered"
						}
					],
					"animations": [
						"animForcedAttackSlashOne"
					]
				},
				"slashingTwo": {
					"transitions": [
						{
							"default": "!query.is_powered"
						}
					],
					"animations": [
						"animForcedAttackSlashTwo"
					]
				}
			}
		}
    }
}