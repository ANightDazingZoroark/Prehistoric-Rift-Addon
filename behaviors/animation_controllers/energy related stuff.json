{
	"format_version": "1.10.0",
	"animation_controllers": {
        //for players
        "controller.animation.energy_bar": {
            "initial_state": "default",
            "states": {
                "default": {
                    "animations": [
                        {
                            "animEnergyBarEmpty": "query.is_riding && (query.get_ride -> query.property('rift:energy'))/150 == 0"
                        },
                        {
                            "animEnergyBarTen": "query.is_riding && (query.get_ride -> query.property('rift:energy'))/150 > 0 && (query.get_ride -> query.property('rift:energy'))/150 <= 0.10"
                        },
                        {
                            "animEnergyBarTwenty": "query.is_riding && (query.get_ride -> query.property('rift:energy'))/150 > 0.10 && (query.get_ride -> query.property('rift:energy'))/150 <= 0.20"
                        },
                        {
                            "animEnergyBarThirty": "query.is_riding && (query.get_ride -> query.property('rift:energy'))/150 > 0.20 && (query.get_ride -> query.property('rift:energy'))/150 <= 0.30"
                        },
                        {
                            "animEnergyBarForty": "query.is_riding && (query.get_ride -> query.property('rift:energy'))/150 > 0.30 && (query.get_ride -> query.property('rift:energy'))/150 <= 0.40"
                        },
                        {
                            "animEnergyBarFifty": "query.is_riding && (query.get_ride -> query.property('rift:energy'))/150 > 0.40 && (query.get_ride -> query.property('rift:energy'))/150 <= 0.50"
                        },
                        {
                            "animEnergyBarSixty": "query.is_riding && (query.get_ride -> query.property('rift:energy'))/150 > 0.50 && (query.get_ride -> query.property('rift:energy'))/150 <= 0.60"
                        },
                        {
                            "animEnergyBarSeventy": "query.is_riding && (query.get_ride -> query.property('rift:energy'))/150 > 0.60 && (query.get_ride -> query.property('rift:energy'))/150 <= 0.70"
                        },
                        {
                            "animEnergyBarEighty": "query.is_riding && (query.get_ride -> query.property('rift:energy'))/150 > 0.70 && (query.get_ride -> query.property('rift:energy'))/150 <= 0.80"
                        },
                        {
                            "animEnergyBarNinety": "query.is_riding && (query.get_ride -> query.property('rift:energy'))/150 > 0.80 && (query.get_ride -> query.property('rift:energy'))/150 <= 0.90"
                        },
                        {
                            "animEnergyBarFull": "query.is_riding && (query.get_ride -> query.property('rift:energy'))/150 > 0.90 && (query.get_ride -> query.property('rift:energy'))/150 <= 1"
                        }
                    ]
                }
            }
        },
        //for creatures
        "controller.animation.warn_of_low_energy": {
            "initial_state": "default",
            "states": {
                "default": {
                    "on_entry": [
                        "/effect @s slowness 0",
                        "/effect @s weakness 0",
                        "@s rift:enable_jump",
                        "@s rift:reenable_ranged_attack_ability"
                    ],
                    "transitions": [
                        {
                            "lowEnergy": "query.property('rift:energy') <= 30 && query.property('rift:focused_stab_charge') == 0"
                        },
                        {
                            "noEnergyDelay": "query.property('rift:energy') == 0 && query.property('rift:focused_stab_charge') == 0"
                        }
                    ]
                },
                "lowEnergy": {
                    "on_entry": [
                        "/execute as @s[tag=ridden] run tellraw @p {\"rawtext\":[{\"selector\": \"@s\"}, {\"text\":\" is low on energy! It needs to rest in order for it to regenerate!\"}]}",
                        "@s rift:disable_jump",
                        "@s rift:disable_ranged_attack_ability",
                        "/effect @s slowness 0",
                        "/effect @s weakness 0",
                        "/tag @s add lowEnergy"
                    ],
                    "on_exit": [
                        "/tag @s remove lowEnergy"
                    ],
                    "animations": [
                        "animLowOnEnergyEffects"
                    ],
                    "transitions": [
                        {
                            "default": "query.property('rift:energy') > 30 || !query.has_rider"
                        },
                        {
                            "noEnergyDelay": "query.property('rift:energy') == 0 && query.property('rift:focused_stab_charge') == 0"
                        }
                    ]
                },
                "noEnergyDelay": {
                    "on_entry": [
                        "/execute as @s[tag=ridden] run tellraw @p {\"rawtext\":[{\"selector\": \"@s\"}, {\"text\":\" has no energy! It needs to rest!\"}]}",
                        "@s rift:disable_jump",
                        "@s rift:disable_ranged_attack_ability",
                        "/effect @s slowness 0",
                        "/effect @s weakness 0",
                        "/tag @s add regenDelay",
                        "/tag @s add noEnergy"
                    ],
                    "on_exit": [
                        "/tag @s remove regenDelay",
                        "/tag @s remove noEnergy"
                    ],
                    "animations": [
                        "animEnergyRegenDelay",
                        "animNoEnergyEffects"
                    ],
                    "transitions": [
                        {
                            "default": "!query.has_rider"
                        },
                        {
                            "noEnergy": "query.all_animations_finished"
                        }
                    ]
                },
                "noEnergy": {
                    "animations": [
                        "animNoEnergyEffects"
                    ],
                    "transitions": [
                        {
                            "default": "query.property('rift:energy') > 30 || !query.has_rider"
                        },
                        {
                            "lowEnergy": "query.property('rift:energy') > 0 && query.property('rift:energy') <= 30"
                        }
                    ]
                }
            }
        },
        "controller.animation.megaloceros_energy_movement_usage": {
            "initial_state": "default",
            "states": {
                "default": {
                    "animations": [
                        {
                            "animRegenerateEnergy": "query.is_tamed"
                        }
                    ],
                    "transitions": [
                        {
                            "walk": "query.is_tamed && query.is_on_ground && query.ground_speed > 0 && query.property('rift:energy') > 0 && !query.is_ignited"
                        },
                        {
                            "jumpDelay": "v.x = 0.0; for_each(t.rider, query.get_riders, { v.x = v.x + (t.rider -> query.is_jumping); }); return v.x > 0.0 && query.is_tamed && query.is_on_ground && query.has_rider && query.property('rift:energy') > 30;"
                        },
                        {
                            "headbutting": "query.is_tamed && query.is_delayed_attacking && query.property('rift:energy') >= 10"
                        }
                    ]
                },
                "walk": {
                    "animations": [
                        "animUseEnergyWhileMoving"
                    ],
                    "transitions": [
                        {
                            "default": "query.ground_speed == 0 || query.is_ignited"
                        },
                        {
                            "jumpDelay": "v.x = 0.0; for_each(t.rider, query.get_riders, { v.x = v.x + (t.rider -> query.is_jumping); }); return v.x > 0.0;"
                        },
                        {
                            "headbutting": "query.is_tamed && query.is_delayed_attacking && query.property('rift:energy') >= 10"
                        }
                    ]
                },
                "jumpDelay": {
                    "animations": [
                        "animUseEnergyWhileMoving"
                    ],
                    "transitions": [
                        {
                            "default": "!query.has_rider || query.property('rift:energy') <= 30 || query.is_ignited"
                        },
                        {
                            "jump": "v.x = 0.0; for_each(t.rider, query.get_riders, { v.x = v.x + !(t.rider -> query.is_jumping); }); return v.x > 0.0;"
                        }
                    ]
                },
                "jump": {
                    "on_entry": [
                        "@s rift:decrease_energy_while_jumping"
                    ],
                    "transitions": [
                        {
                            "default": "query.is_on_ground || query.is_ignited"
                        }
                    ]
                },
                "headbutting": {
                    "on_exit": [
                        "@s rift:decrease_energy_while_headbutting"
                    ],
                    "transitions": [
                        {
                            "default": "!query.is_delayed_attacking"
                        }
                    ]
                }
            }
        },
        "controller.animation.parasaurolophus_energy_movement_usage": {
            "initial_state": "default",
            "states": {
                "default": {
                    "animations": [
                        {
                            "animRegenerateEnergy": "query.is_tamed"
                        }
                    ],
                    "transitions": [
                        {
                            "walk": "query.is_tamed && query.is_on_ground && query.ground_speed > 0 && query.property('rift:energy') > 0"
                        },
                        {
                            "turretMode": "query.is_tamed && query.is_sheared && query.property('rift:energy') >= 15"
                        }
                    ]
                },
                "walk": {
                    "animations": [
                        "animUseEnergyWhileMoving"
                    ],
                    "transitions": [
                        {
                            "default": "query.ground_speed == 0"
                        }
                    ]
                },
                "turretMode": {
                    "animations": [
                        "animRegenerateEnergy"
                    ],
                    "transitions": [
                        {
                            "default": "query.property('rift:energy') < 15"
                        }
                    ]
                }
            }
        },
        "controller.animation.sarcosuchus_energy_movement_usage": {
            "initial_state": "default",
            "states": {
                "default": {
                    "animations": [
                        {
                            "animRegenerateEnergyLand": "query.is_tamed && !query.is_in_water"
                        },
                        {
                            "animRegenerateEnergyWater": "query.is_tamed && query.is_in_water"
                        }
                    ],
                    "transitions": [
                        {
                            "walk": "query.is_tamed && !query.is_in_water && query.is_on_ground && query.ground_speed > 0 && query.property('rift:energy') > 0"
                        },
                        {
                            "swim": "query.is_tamed && query.is_in_water && query.ground_speed > 0 && query.property('rift:energy') > 0"
                        },
                        {
                            "biting": "query.is_tamed && query.is_delayed_attacking && query.property('rift:energy') >= 10"
                        },
                        {
                            "spinAttacking": "query.is_tamed && query.is_powered && query.property('rift:energy') >= 30"
                        }
                    ]
                },
                "walk": {
                    "animations": [
                        "animUseEnergyWhileMoving"
                    ],
                    "transitions": [
                        {
                            "default": "query.ground_speed == 0 || query.is_in_water"
                        },
                        {
                            "biting": "query.is_tamed && query.is_delayed_attacking && query.property('rift:energy') >= 10"
                        },
                        {
                            "spinAttacking": "query.is_tamed && query.is_powered && query.property('rift:energy') >= 30"
                        }
                    ]
                },
                "swim": {
                    "animations": [
                        "animUseEnergyWhileMoving"
                    ],
                    "transitions": [
                        {
                            "default": "query.ground_speed == 0 || !query.is_in_water"
                        },
                        {
                            "biting": "query.is_tamed && query.is_delayed_attacking && query.property('rift:energy') >= 10"
                        },
                        {
                            "spinAttacking": "query.is_tamed && query.is_powered && query.property('rift:energy') >= 30"
                        }
                    ]
                },
                "biting": {
                    "on_exit": [
                        "@s rift:decrease_energy_while_biting"
                    ],
                    "transitions": [
                        {
                            "default": "!query.is_delayed_attacking"
                        }
                    ]
                },
                "spinAttacking": {
                    "on_exit": [
                        "@s rift:decrease_energy_while_spin_attacking"
                    ],
                    "transitions": [
                        {
                            "default": "!query.is_powered"
                        }
                    ]
                }
            }
        },
        "controller.animation.saurophaganax_energy_movement_usage": {
            "initial_state": "default",
            "states": {
                "default": {
                    "animations": [
                        {
                            "animRegenerateEnergy": "query.is_tamed && (query.time_of_day >= 0.75 || query.time_of_day <= 0.25)"
                        }
                    ],
                    "transitions": [
                        {
                            "sleeping": "query.is_sleeping"
                        },
                        {
                            "walk": "query.is_tamed && query.is_on_ground && query.ground_speed > 0 && query.property('rift:energy') > 0"
                        },
                        {
                            "biting": "query.is_tamed && query.is_delayed_attacking && query.property('rift:energy') >= 10 && (query.time_of_day >= 0.75 || query.time_of_day <= 0.25)"
                        },
                        {
                            "bitingWeakened": "query.is_tamed && query.is_delayed_attacking && query.property('rift:energy') >= 50 && !query.is_sheared"
                        },
                        {
                            "lightBlasting": "query.is_tamed && query.is_roaring && query.property('rift:energy') >= 50 && !query.is_sheared"
                        }
                    ]
                },
                "sleeping": {
                    "animations": [
                        "animRefillEnergyWhileSleeping"
                    ],
                    "transitions": [
                        {
                            "default": "!query.is_sleeping"
                        }
                    ]
                },
                "walk": {
                    "animations": [
                        {
                            "animUseEnergyWhileMoving": "!query.is_sheared"
                        },
                        {
                            "animUseEnergyWhileMovingWeakened": "query.is_sheared"
                        }
                    ],
                    "transitions": [
                        {
                            "default": "query.ground_speed == 0"
                        },
                        {
                            "biting": "query.is_tamed && query.is_delayed_attacking && query.property('rift:energy') >= 10 && (query.time_of_day >= 0.75 || query.time_of_day <= 0.25)"
                        },
                        {
                            "bitingWeakened": "query.is_tamed && query.is_delayed_attacking && query.property('rift:energy') >= 50 && !query.is_sheared"
                        },
                        {
                            "lightBlasting": "query.is_tamed && query.is_roaring && query.property('rift:energy') >= 50 && !query.is_sheared"
                        }
                    ]
                },
                "biting": {
                    "on_exit": [
                        "@s rift:decrease_energy_while_biting"
                    ],
                    "transitions": [
                        {
                            "default": "!query.is_delayed_attacking"
                        }
                    ]
                },
                "bitingWeakened": {
                    "on_exit": [
                        "@s rift:decrease_energy_while_biting_weakened"
                    ],
                    "transitions": [
                        {
                            "default": "!query.is_delayed_attacking"
                        }
                    ]
                },
                "lightBlasting": {
                    "on_exit": [
                        "@s rift:decrease_energy_while_biting_weakened"
                    ],
                    "transitions": [
                        {
                            "default": "!query.is_roaring"
                        }
                    ]
                }
            }
        },
        "controller.animation.stegosaurus_energy_movement_usage": {
            "initial_state": "default",
            "states": {
                "default": {
                    "animations": [
                        {
                            "animRegenerateEnergy": "query.is_tamed && query.property('rift:focused_stab_charge') == 0"
                        }
                    ],
                    "transitions": [
                        {
                            "walk": "query.is_tamed && query.is_on_ground && query.ground_speed > 0 && query.property('rift:energy') > 0"
                        },
                        {
                            "stabbing": "query.is_tamed && query.is_delayed_attacking && query.property('rift:energy') >= 10 && query.property('rift:focused_stab_charge') == 0"
                        },
                        {
                            "plateFlingPrepare": "query.is_tamed && query.property('rift:energy') >= 10 && query.is_charged"
                        }
                    ]
                },
                "walk": {
                    "animations": [
                        "animUseEnergyWhileMoving"
                    ],
                    "transitions": [
                        {
                            "default": "query.ground_speed == 0 || query.property('rift:focused_stab_charge') > 0"
                        },
                        {
                            "stabbing": "query.is_tamed && query.is_delayed_attacking && query.property('rift:energy') >= 10 && query.property('rift:focused_stab_charge') == 0"
                        },
                        {
                            "plateFlingPrepare": "query.is_tamed && query.property('rift:energy') >= 10 && query.is_charged"
                        }
                    ]
                },
                "stabbing": {
                    "on_exit": [
                        "@s rift:decrease_energy_while_stabbing"
                    ],
                    "transitions": [
                        {
                            "default": "!query.is_delayed_attacking"
                        }
                    ]
                },
                "plateFlingPrepare": {
                    "transitions": [
                        {
                            "plateFlinging": "!query.is_charged"
                        }
                    ]
                },
                "plateFlinging": {
                    "on_entry": [
                        "@s rift:decrease_energy_while_plate_flinging"
                    ],
                    "transitions": [
                        {
                            "default": "(1.0)"
                        }
                    ]
                }
            }
        },
        "controller.animation.triceratops_energy_movement_usage": {
            "initial_state": "default",
            "states": {
                "default": {
                    "animations": [
                        {
                            "animRegenerateEnergy": "query.is_tamed && !query.is_powered"
                        }
                    ],
                    "transitions": [
                        {
                            "walk": "query.is_tamed && query.is_on_ground && query.ground_speed > 0 && query.property('rift:energy') > 0 && !query.is_powered"
                        },
                        {
                            "stabbing": "query.is_tamed && variable.attack_time > 0 && query.property('rift:energy') >= 10"
                        }
                    ]
                },
                "walk": {
                    "animations": [
                        "animUseEnergyWhileMoving"
                    ],
                    "transitions": [
                        {
                            "default": "query.ground_speed == 0 || query.is_powered"
                        },
                        {
                            "stabbing": "query.is_tamed && variable.attack_time > 0 && query.property('rift:energy') >= 10"
                        }
                    ]
                },
                "stabbing": {
                    "on_exit": [
                        "@s rift:decrease_energy_while_stabbing"
                    ],
                    "transitions": [
                        {
                            "default": "variable.attack_time <= 0"
                        }
                    ]
                }
            }
        },
        "controller.animation.tyrannosaurus_energy_movement_usage": {
            "initial_state": "default",
            "states": {
                "default": {
                    "animations": [
                        {
                            "animRegenerateEnergy": "query.is_tamed"
                        }
                    ],
                    "transitions": [
                        {
                            "walk": "query.is_tamed && query.is_on_ground && query.ground_speed > 0 && query.property('rift:energy') > 0"
                        },
                        {
                            "biting": "query.is_tamed && query.is_delayed_attacking && query.property('rift:energy') >= 10"
                        }
                    ]
                },
                "walk": {
                    "animations": [
                        "animUseEnergyWhileMoving"
                    ],
                    "transitions": [
                        {
                            "default": "query.ground_speed == 0"
                        },
                        {
                            "biting": "query.is_tamed && query.is_delayed_attacking && query.property('rift:energy') >= 10"
                        }
                    ]
                },
                "biting": {
                    "on_exit": [
                        "@s rift:decrease_energy_while_biting"
                    ],
                    "transitions": [
                        {
                            "default": "!query.is_delayed_attacking"
                        }
                    ]
                }
            }
        },
        "controller.animation.utahraptor_energy_movement_usage": {
            "initial_state": "default",
            "states": {
                "default": {
                    "animations": [
                        {
                            "animRegenerateEnergy": "query.is_tamed"
                        }
                    ],
                    "transitions": [
                        {
                            "walk": "query.is_tamed && query.is_on_ground && query.ground_speed > 0 && query.property('rift:energy') > 0"
                        },
                        {
                            "jumpDelay": "v.x = 0.0; for_each(t.rider, query.get_riders, { v.x = v.x + (t.rider -> query.is_jumping); }); return v.x > 0.0 && query.is_tamed && query.is_on_ground && query.has_rider && query.property('rift:energy') > 30;"
                        },
                        {
                            "slashing": "query.is_tamed && query.is_delayed_attacking && query.property('rift:energy') >= 10"
                        }
                    ]
                },
                "walk": {
                    "animations": [
                        "animUseEnergyWhileMoving"
                    ],
                    "transitions": [
                        {
                            "default": "query.ground_speed == 0"
                        },
                        {
                            "jumpDelay": "v.x = 0.0; for_each(t.rider, query.get_riders, { v.x = v.x + (t.rider -> query.is_jumping); }); return v.x > 0.0;"
                        },
                        {
                            "slashing": "query.is_tamed && query.is_delayed_attacking && query.property('rift:energy') >= 10"
                        }
                    ]
                },
                "jumpDelay": {
                    "animations": [
                        "animUseEnergyWhileMoving"
                    ],
                    "transitions": [
                        {
                            "default": "!query.has_rider || query.property('rift:energy') <= 30"
                        },
                        {
                            "jump": "v.x = 0.0; for_each(t.rider, query.get_riders, { v.x = v.x + !(t.rider -> query.is_jumping); }); return v.x > 0.0;"
                        }
                    ]
                },
                "jump": {
                    "on_entry": [
                        "@s rift:decrease_energy_while_jumping"
                    ],
                    "transitions": [
                        {
                            "default": "query.is_on_ground"
                        }
                    ]
                },
                "slashing": {
                    "on_exit": [
                        "@s rift:decrease_energy_while_slashing"
                    ],
                    "transitions": [
                        {
                            "default": "!query.is_delayed_attacking"
                        }
                    ]
                }
            }
        }
    }
}